<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pdf">
    <select id="selectUserById" parameterType="string" resultType="map">
        SELECT
            a.user_name,
            a.user_email,
            b.DPT_APT_CODE,
            b.ARR_APT_CODE,
            b.dpt_date,
            b.arr_date,
            c.fltCode
        FROM
            users a
                JOIN
            reservation b ON a.user_id = b.user_id
                JOIN
            res_details c ON c.res_code = b.res_code
                JOIN
            air_route_schedule d ON d.flt_code = c.flt_code
                JOIN
            airport e ON e.apt_code = d.apt_code
        WHERE
            a.id = #{userId}
    </select>
</mapper>